
<!DOCTYPE html>
<html lang="en">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Thinture GPS</title>
		    <link rel="icon" type="image/x-icon" href="THINTURE_IMAGE/favicon.jpg">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css">
	<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.css">
	<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/sdist/MarkerCluster.Default.css">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
	
	
	
	<script src="https://unpkg.com/leaflet.markercluster/dist/leaflet.markercluster.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
	<script src="/js/map4script.js"></script>
	
	<link rel="stylesheet" type="text/css" th:href="@{/css/style.css}">
	<link rel="stylesheet" type="text/css" th:href="@{/css/map4style.css}">
   
</head>
<body>
	<header th:insert="navigation :: navbar"></header>

    <div id="map"></div>

    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.5.0/sockjs.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>
	
	<!-- Toggle Button -->
	<!-- Toggle Button -->
	<button id="toggleButton">☰</button>

	<!-- Sidebar -->
	<!-- Sidebar -->
	<div id="sidebar">
	    <h2>Tracker Details</h2>
	    <input type="text" id="searchBar" placeholder="Search by Device ID">
	    <table>
	        <thead>
	            <tr>
	                <th>Status</th>
	                <th>Device ID</th>
	                <th>Last Upload</th>
	            </tr>
	        </thead>
	        <tbody id="trackerTableBody">
	            <!-- Rows will be dynamically added here -->
	        </tbody>
	    </table>
	</div>

	<!-- ✅ Vehicle Details Modal (Initially Hidden) -->
	<!-- Vehicle Details Modal (initially hidden) -->
	<div id="vehicleDetailsModal" style="display:none; position:fixed; top:30%; left:56%; padding:20px; border-radius:8px; box-shadow:0px 0px 10px gray; z-index:1000;">
	  <h2>Vehicle Details</h2>
	  <table border="1">
	    <tbody id="vehicleDetailsTable">
	      <!-- Data will be dynamically inserted here -->
	    </tbody>
	  </table>
	  <button class="closeb"   onclick="closeVehicleDetails()">X</button>
	</div>

	<!-- Example Details Button inside a popup (dynamically generated in your marker popup) -->
	<button style="padding: 5px 10px; background-color: #2196F3;  border: none; border-radius: 5px; cursor: pointer;"
	        onclick="fetchVehicleDetails(this.getAttribute('data-deviceid'))"
	        data-deviceid="12345">
	  Details
	</button>




	</div>

		
	

	
	
	
</body>
</html>